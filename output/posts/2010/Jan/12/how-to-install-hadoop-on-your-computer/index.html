<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Eric Chan">
  <meta name="description" content="Posts and writings by Eric Chan">


<meta name="keywords" content="">

  <title>
    Eric Chan @ Clarity Insights
&ndash; How to install Hadoop on your computer  </title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="">
        <img src="/images/eric.jpg" alt="logo">
      </a>
      <h2><a href="">Eric Chan</a></h2>
      <p>Eric Chan is a Senior Associate Consultant at Clarity Insights.</p>
      <ul>
        <li><a href="https://www.clarityinsights.com" target="_blank">Clarity Insights</a></li>
        <li><a href="https://github.com/eChanClarityInsights" target="_blank">GitHub</a></li>
        <li><a href="mailto:echan@clarityinsights.com" target="_blank">Email</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="">Index</a> &brvbar; <a href="/archives.html">Archives</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="/posts/2010/Jan/12/how-to-install-hadoop-on-your-computer/">How to install Hadoop on your computer</a></h1>
  </div>
  <div class="article_text">
    <h2>Introduction</h2>
<p>This post is about installing Hadoop on a computer running Windows 10.  </p>
<p>To follow along with this post, you should already have Java (JDK 8) on your
machine.  </p>
<p>If you need help with those things, here are some helpful links:  </p>
<p><a href="../../23/how-to-install-java">How to Install Java (JDK 8)</a>  </p>
<h3>What is Hadoop?</h3>
<p>Hadoop is a framework that allows for the distributed processing of large data
sets across clusters of computers.</p>
<h2>Step 1 - Install Java</h2>
<h4>Java Development Kit 8 (JDK 8) is already installed</h4>
<p>If JDK 8 is already installed on your machine skip to step 2.</p>
<h4>How do I check if JDK 8 is installed on my machine?</h4>
<p>Open a windows command prompt and type the following:  </p>
<div class="highlight"><pre><span></span>cmd&gt; java -version  
</pre></div>


<p>If you get the following output:</p>
<div class="highlight"><pre><span></span>java version &quot;1.8.0_191&quot;
</pre></div>


<p>then JDK 8 is installed on your machine. The first two numbers are the
important ones. The numbers after 1.8 are the build number and may vary
depending on your build.  </p>
<p>If you get an error, or a different version is installed, I recommend that you
download and install JDK 8.</p>
<h2>Step 2</h2>
<h4>Download Hadoop</h4>
<p>Download &amp; Extract <a href="https://hadoop.apache.org/releases.html">Hadoop</a>. I chose
Hadoop version 2.9.2 which was the most recently updated Hadoop version at that
time. I downloaded the "Binary download" of Hadoop.</p>
<p><strong>Note</strong>: Source releases must be compiled while binary releases are already
compiled. If you're using Windows, you'll often use the binary releases.<br>
<a href="https://stackoverflow.com/questions/5280906/difference-between-binary-release-and-source-release">Install from source or binary?</a><br>
<strong>Note</strong>: If you are getting a <code>Cannot create symbolic link</code> error, run your
extracting utility as Administrator.<br>
<img alt="Symbolic Link Error" src="/images/2019-01-12/symbolic-link-error.PNG">
<a href="https://superuser.com/questions/1076527/7zip-cannot-create-symbolic-link-access-is-denied-to-libhdfs-so-and-libhadoop-s">Cannot create symbolic link</a></p>
<h3>Step 3 - Add set HADOOP_HOME, Hadoop environment variables, and add to PATH</h3>
<p>Find where Hadoop was downloaded and extracted to your computer. Hadoop was
downloaded and extracted to my <code>Downloads</code> directory. <code>HADOOP_HOME</code> and other
Hadoop environment variables need to point to your root Hadoop directory. The
<code>PATH</code> should contain <code>HADOOP_HOME\bin</code>.  </p>
<p>I used the follow to set my <code>HADOOP_HOME</code>, other Hadoop environment variables,
and <code>PATH</code>.</p>
<div class="highlight"><pre><span></span>cmd&gt; setx HADOOP_HOME &quot;C:\Users\echan\Downloads\hadoop-2.9.2&quot;
cmd&gt; setx HADOOP_MAPRED_HOME &quot;C:\Users\echan\Downloads\hadoop-2.9.2&quot;
cmd&gt; setx HADOOP_COMMON_HOME &quot;C:\Users\echan\Downloads\hadoop-2.9.2&quot;
cmd&gt; setx HADOOP_HDFS_HOME &quot;C:\Users\echan\Downloads\hadoop-2.9.2&quot;
cmd&gt; setx YARN_HOME &quot;C:\Users\echan\Downloads\hadoop-2.9.2&quot;
cmd&gt; setx HADOOP_CONF_DIR &quot;C:\Users\echan\Downloads\hadoop-2.9.2\etc\hadoop&quot;
cmd&gt; setx PATH &quot;%HADOOP_HOME%\bin;%PATH%&quot;
</pre></div>


<div class="highlight"><pre><span></span>Close your command prompt and reopen a new one to refresh your environment
variables. Verify that your `SPARK_HOME` and `PATH` were set correctly.
</pre></div>


<p>:::text
cmd&gt; echo %HADOOP_HOME%
cmd&gt; echo %HADOOP_MAPRED_HOME%
cmd&gt; echo %HADOOP_COMMON_HOME%
cmd&gt; echo %HADOOP_HDFS_HOME%
cmd&gt; echo %YARN_HOME%
cmd&gt; echo %HADOOP_CONF_DIR%
// to pretty print PATH
cmd&gt; for %a in ("%path:;=";"%") do @echo %~a</p>
<div class="highlight"><pre><span></span>You should see something like the following output:  
</pre></div>


<p>// this should be the output for %HADOOP_HOME%, %HADOOP_MAPRED_HOME%, %HADOOP_COMMON_HOME%, %HADOOP_HDFS_HOME%, and %YARN_HOME%
C:\Users\echan\Downloads\hadoop-2.9.2
C:\Users\echan\Downloads\hadoop-2.9.2\etc\hadoop
// this should appear somewhere in your PATH
C:\Users\echan\Downloads\hadoop-2.9.2\bin</p>
<div class="highlight"><pre><span></span>
</pre></div>


<p>cmd&gt;   </p>
<div class="highlight"><pre><span></span><span class="o">!</span><span class="p">[</span><span class="n">Python</span> <span class="n">Kernel</span><span class="p">](</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">26</span><span class="o">/</span><span class="n">python</span><span class="o">-</span><span class="n">kernel</span><span class="p">.</span><span class="n">PNG</span><span class="p">)</span>

<span class="cp">#### Execute Spark code!  </span>
</pre></div>


<h1>!python</h1>
<p>import findspark
findspark.init()
import pyspark
sc = pyspark.SparkContext(appName = "myApp")
a = sc.parallelize(range(10))
a.collect()</p>
<div class="highlight"><pre><span></span><span class="o">!</span><span class="p">[</span><span class="n">Python</span> <span class="n">Kerenel</span><span class="p">](</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">26</span><span class="o">/</span><span class="n">spark</span><span class="o">-</span><span class="n">python</span><span class="p">.</span><span class="n">PNG</span><span class="p">)</span>

<span class="o">***</span><span class="n">Note</span> <span class="o">-</span> <span class="n">I</span> <span class="n">tried</span> <span class="n">doing</span> <span class="n">this</span> <span class="n">using</span> <span class="n">Spark</span> <span class="mf">2.4</span> <span class="n">and</span> <span class="n">encountered</span> <span class="n">the</span> <span class="n">following</span>
<span class="nl">error</span><span class="p">:</span> <span class="err">`</span><span class="n">Python</span> <span class="n">worker</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">connect</span> <span class="n">back</span><span class="err">`</span><span class="p">.</span> <span class="n">I</span> <span class="n">switched</span> <span class="n">to</span> <span class="n">Spark</span> <span class="mf">2.3.2</span> <span class="n">and</span>
<span class="n">was</span> <span class="n">able</span> <span class="n">to</span> <span class="n">execute</span> <span class="n">Spark</span> <span class="n">code</span> <span class="n">with</span> <span class="n">no</span> <span class="n">errors</span><span class="p">.</span><span class="o">***</span>

<span class="cp">## Spark - Scala</span>
<span class="n">This</span> <span class="n">step</span> <span class="n">is</span> <span class="n">to</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">develop</span> <span class="k">in</span> <span class="n">Spark</span> <span class="n">using</span> <span class="n">Scala</span><span class="p">.</span>  

<span class="cp">#### Install spylon-kernel using pip  </span>
<span class="n">Type</span> <span class="n">the</span> <span class="n">following</span> <span class="k">in</span> <span class="n">a</span> <span class="n">command</span> <span class="nl">prompt</span><span class="p">:</span>  
</pre></div>


<p>cmd&gt; pip install spylon-kernel</p>
<div class="highlight"><pre><span></span>#### Create a kernel spec
This allows us to select a Scala kerenel in a Jupyter Notebook.  
</pre></div>


<p>cmd&gt; python -m spylon_kernel install</p>
<div class="highlight"><pre><span></span><span class="cp">#### Open a Jupyter Notebook and select spylon-kernel.</span>

<span class="o">!</span><span class="p">[</span><span class="n">Spylon</span> <span class="n">Kernel</span><span class="p">](</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">26</span><span class="o">/</span><span class="n">spylon</span><span class="o">-</span><span class="n">kernel</span><span class="p">.</span><span class="n">PNG</span><span class="p">){</span><span class="o">:</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="n">px</span><span class="p">}</span>
<span class="o">---</span>
<span class="cp">#### Execute Spark code!  </span>
</pre></div>


<h1>!scala</h1>
<p>val a = sc.parallelize(1 to 9)
a.collect()
```
<img alt="Spark Scala" src="/images/2018-12-26/spark-scala.PNG" width="600px">  </p>
<p><strong><em>Note - I get a warning <code>Unable to load native-hadoop library for your platform...using
builtin-java classes where applicable</code>. This will be an issue if you connect to
a Hadoop cluster with Kerberos authentication but for our purposes, we can
ignore this.</em></strong></p>
<p>Happy developing!</p>
  </div>
  <div class="article_meta">
    <p>Posted on: Tue 12 January 2010</p>
    <p>Category: <a href="/category/spark.html">Spark</a>
    </p>
  </div>

  <div id="article_comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_identifier = "posts/2010/Jan/12/how-to-install-hadoop-on-your-computer/";
        (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = '//echanclarityinsights-github-io-1.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
    </script>
  </div>

</article>


    <div id="ending_message">
      <p>&copy; Eric Chan. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>